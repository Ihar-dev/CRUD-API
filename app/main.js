(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var s in r)e.o(r,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:r[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=require("http"),r=require("crypto");var s=e.n(r);const n=new Uint8Array(256);let o=n.length;function i(){return o>n.length-16&&(s().randomFillSync(n),o=0),n.slice(o,o+=16)}const u=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).substr(1));const l=function(e,t=0){const r=(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&u.test(e)}(r))throw TypeError("Stringified UUID is invalid");return r},c=function(e,t,r){const s=(e=e||{}).random||(e.rng||i)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=s[e];return t}return l(s)},d=new class{constructor(){this.users=[]}getUsers(){return this.users}addUser(){const e={id:this.getId(),username:"",age:0,hobbies:[]};return this.users.push(e),e}getId(){let e="",t=!1;for(;!t;){e=c();let r=!1;this.users.forEach((t=>{t.id===e&&(r=!0)})),r||(t=!0)}return e}};(0,t.createServer)(((e,t)=>{const{method:r,url:s}=e;let n,o="";r&&s&&("GET"===r&&"/api/users"===s?(o=JSON.stringify(d.getUsers()),n=200):"POST"===r&&"/api/users"===s?(o=JSON.stringify(d.addUser()),n=201):(o=JSON.stringify({message:"Route Not Found"}),n=404),console.log({method:r,url:s}),console.log({method:r,url:s}==={method:"GET",url:"/api/users"}),t.writeHead(n,{"Content-Type":"application/json"}),t.end(o))})).listen(5e3,"localhost",(()=>{console.log("Сервер запущен на порту 5000")}))})();